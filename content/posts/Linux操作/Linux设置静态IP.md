---
title: "Linux设置静态IP"
description: "Linux设置静态IP"
keywords: "IP"

date: 2023-06-16T16:41:30+08:00
lastmod: 2023-06-16T16:41:30+08:00

categories:
  - Linux
tags:
  - Linux
  - 静态IP
---

## Centos
编辑em1对应的配置文件，位于/etc/sysconfig/network-scripts/ifcfg-你的网卡名字
![](https://picture-czy.oss-cn-beijing.aliyuncs.com/img/image-20210928213739569.png#crop=0&crop=0&crop=1&crop=1&id=WJbbL&originHeight=89&originWidth=679&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
```shell
vim /etc/sysconfig/network-scripts/ifcfg-eth0
```
主要修改BOOTPROTO, IPADDR, NETMASK, GATEWAY也就是带注释的内容
```shell
# Generated by dracut initrd
NAME="eth0"
HWADDR="52:54:00:e1:fa:43"
ONBOOT=yes
NETBOOT=yes
UUID="d30acbe4-f24c-40d2-be6a-f474d8b7d3f2"
IPV6INIT=yes
BOOTPROTO="static" # 使用静态IP，默认为dhcp
IPADDR="192.168.0.100" # 静态IP
NETMASK="255.255.255.0" # 子网掩码
GATEWAY="192.168.0.1" # 网关
TYPE=Ethernet
```
保存后重启网络服务
```shell
service network restart
```
## Almalinux
```bash
vim /etc/NetworkManager/system-connections/ens18.nmconnection

nmcli c reload
nmcli c down ens18 && nmcli c up ens18
```
## Debian
首选备份原始的网络配置文件，
```shell
sudo cp /etc/network/interfaces  /etc/network/interfacesbak
```
编辑文件 /etc/network/interfaces，内容如下：
```shell
auto lo
auto eth0  # 设置开机自动连接网络

iface lo inet loopback
 allow-hotplug eth0
 iface eth0 inet static   # static表示使用固定IP地址上网，dhcp表示使用动态ip
 address 192.168.9.100    # 设置静态ip地址
 netmask 255.255.255.0    # 子网掩码
 gateway 192.168.9.254    # 网关
```
保存后重启网络服务
```shell
service networking restart
```

## Ubuntu
更改/etc/netplan/*.yaml下的yaml文件
```shell
vim /etc/netplan/00-installer-config.yaml
```
```shell
# This is the network config written by 'subiquity'
network:
  ethernets:
    enp1s0:
      dhcp4: no # 关闭dhcp
      addresses: [192.168.0.200/24] # 设置IP和掩码
      gateway4: 192.168.0.1 # 网关
      nameservers: # 设置DNS
              addresses: [192.168.0.1, 114.114.114.114]
  version: 2
```
保存后使用netplan命令应用最近的网络更改
```shell
netplan apply
```
